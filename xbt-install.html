<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-05-06T12:15:58.2704714"><title>Установка XBTT | Установка XBT трекера для DLE+XBT</title><script type="application/json" id="virtual-toc-data">[{"id":"-ap0l07_148","level":0,"title":"Оф. инструкция автора","anchor":"#-ap0l07_148"},{"id":"-ap0l07_208","level":0,"title":"Инструкция с интернета","anchor":"#-ap0l07_208"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Установка XBTT | Установка XBT трекера для DLE+XBT"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Установка XBT трекера для DLE+XBT Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/xbt-install.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Установка XBTT | Установка XBT трекера для DLE+XBT"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/xbt-install.html#webpage",
    "url": "writerside-documentation/xbt-install.html",
    "name": "Установка XBTT | Установка XBT трекера для DLE+XBT",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Установка XBT трекера для DLE+XBT Help"
}</script><!-- End Schema.org --></head><body data-id="xbt_install" data-main-title="Установка XBTT" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Установка XBT трекера для DLE+XBT  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="xbt_install" id="xbt_install.md">Установка XBTT</h1><section class="chapter"><h2 id="-ap0l07_148" data-toc="-ap0l07_148">Оф. инструкция автора</h2><p id="-ap0l07_149"><span class="control" id="-ap0l07_150">Файлы утеряны!</span> Если у вас сохртанились эти исходники, то просим сообщить нам через <a href="https://skripters.biz/forum/misc/contact" id="-ap0l07_151" data-external="true" rel="noopener noreferrer">форму контакта</a></p><p id="-ap0l07_152">Создаём нужные каталоги:</p><div class="code-block" data-lang="bash">
mkdir -p /home/xbt/xbt-source; cd /home/xbt/xbt-source/
</div><p id="-ap0l07_154">Скачиваем исходники:</p><div class="code-block" data-lang="bash">
wget http://0-web.ru/uploads/xbt/xbt_2466.zip; unzip -o xbt_2466.zip
chmod 777 Tracker/make.sh
wget http://0-web.ru/uploads/xbt/xbtt-source_2466.zip; unzip -o -d Tracker xbtt-source_2466.zip
cd Tracker; ./make.sh
</div><p id="-ap0l07_156">Создаём конфигурационный файл:</p><div class="code-block" data-lang="bash">
cp xbt_tracker.conf.default /home/xbt/xbt_tracker.conf; cp xbt_tracker /home/xbt/
</div><section class="chapter"><h3 id="cc1plus-std-c-11" data-toc="cc1plus-std-c-11">Если ошибка - cc1plus ошибка некорректный ключ &quot;-std=c++11&quot;</h3><p id="-ap0l07_158">Необходима версия gcc 4.6 или больше, но её нет в репозиториях, по этому собираем более старую версию XBT</p><div class="code-block" data-lang="bash">
rm -r /home/xbt/xbt-source; mkdir -p /home/xbt/xbt-source; cd /home/xbt/xbt-source
wget http://0-web.ru/uploads/xbt/xbt_2396.zip; unzip -o xbt_2396.zip; chmod 777 Tracker/make.sh
wget http://0-web.ru/uploads/xbt/xbtt-source_2396.zip; unzip -o -d Tracker xbtt-source_2396.zip
cd Tracker; ./make.sh
</div></section><section class="chapter"><h3 id="cc1plus-error-unrecognized-command-line-option-std-c-0x" data-toc="cc1plus-error-unrecognized-command-line-option-std-c-0x">Если ошибка - cc1plus error unrecognized command line option &quot;-std=c++0x&quot;</h3><div class="code-block" data-lang="bash">
yum update
yum remove gcc*
yum install gcc44*
ln -s /usr/bin/gcc44 /usr/bin/gcc
ln -s /usr/bin/g++44 /usr/bin/g++
</div></section><section class="chapter"><h3 id="misc-xcc-z-cpp-5-18-error-zlib-h" data-toc="misc-xcc-z-cpp-5-18-error-zlib-h">Если ошибка - ../misc/xcc_z.cpp 5 18 error zlib.h Нет такого файла или каталога</h3><div class="code-block" data-lang="bash">
yum install zlib-devel
</div></section><section class="chapter"><h3 id="usr-bin-ld-cannot-find-lssl" data-toc="usr-bin-ld-cannot-find-lssl">Если ошибка - /usr/bin/ld cannot find -lssl</h3><div class="code-block" data-lang="bash">
yum install openssl-devel
</div></section><section class="chapter"><h3 id="template-class-std-auto-ptr-is-deprecated-wdeprecated-declarations" data-toc="template-class-std-auto-ptr-is-deprecated-wdeprecated-declarations">Если ошибка - &lsquo;template class std::auto_ptr&rsquo; is deprecated -Wdeprecated-declarations</h3><p id="-ap0l07_163">Найти файл server.cpp и в нём найти <code class="code" id="-ap0l07_164">std::auto_ptr</code></p><p id="-ap0l07_165">Заменить на <code class="code" id="-ap0l07_166">std::unique_ptr</code></p><p id="-ap0l07_167">Найти <code class="code" id="-ap0l07_168">m_connections.push_back(connection);</code></p><p id="-ap0l07_169">Заменить на <code class="code" id="-ap0l07_170">m_connections.push_back(connection.release());</code></p></section><section class="chapter"><h3 id="freebsd" data-toc="freebsd">Дле FreeBSD</h3><p id="-ap0l07_171">Файлы:</p><ul class="list _bullet" id="-ap0l07_172"><li class="list__item" id="-ap0l07_173"><p><code class="code" id="-ap0l07_174">Tracker/tracker_input.cpp</code></p></li><li class="list__item" id="-ap0l07_175"><p><code class="code" id="-ap0l07_176">misc/xbt/data_ref.h</code></p></li><li class="list__item" id="-ap0l07_177"><p><code class="code" id="-ap0l07_178">misc/bvalue.cpp</code></p></li></ul><p id="-ap0l07_179">Найти все <code class="code" id="-ap0l07_180">atoll</code></p><p id="-ap0l07_181">Заменить на <code class="code" id="-ap0l07_182">atoi</code></p><p id="-ap0l07_183">Файл: <code class="code" id="-ap0l07_184">Tracker/connection.cpp</code></p><p id="-ap0l07_185">Добавить в самое начало:</p><div class="code-block" data-lang="cpp">
#include &lt;sys/uio.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
</div><p id="-ap0l07_187">Файл: <code class="code" id="-ap0l07_188">Tracker/server.cpp</code></p><p id="-ap0l07_189">Добавить в самое начало:</p><div class="code-block" data-lang="cpp">
#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
</div><p id="-ap0l07_191">Файл: <code class="code" id="-ap0l07_192">Tracker/make.sh</code></p><p id="-ap0l07_193">Первую строку:</p><div class="code-block" data-lang="cpp">
g++ $@ -DEPOLL -DNDEBUG -I ../misc -I . -O3 -o xbt_tracker -std=c++0x \
</div><p id="-ap0l07_195">Заменить на:</p><div class="code-block" data-lang="cpp">
g++48 $@ -DNDEBUG -O3 -I ../misc -I . -o xbt_tracker -I /usr/local/include -std=c++0x \
</div><p id="-ap0l07_197">Следующее сообщение не является ошибкой, его игнорируем:</p><div class="code-block" data-lang="none">
In file included from connection.cpp:5:0:
stdafx.h:3:0: warning: &quot;FD_SETSIZE&quot; redefined [enabled by default]
#define FD_SETSIZE 1024
^
In file included from /usr/local/lib/gcc48/gcc/x86_64-portbld-freebsd9.0/4.8.1/include-fixed/sys/types.h:287:0,
from connection.cpp:2:
/usr/include/sys/select.h:59:0: note: this is the location of the previous definition
#define FD_SETSIZE 1024U
^
In file included from server.cpp:4:0:
stdafx.h:3:0: warning: &quot;FD_SETSIZE&quot; redefined [enabled by default]
#define FD_SETSIZE 1024
^
In file included from /usr/local/lib/gcc48/gcc/x86_64-portbld-freebsd9.0/4.8.1/include-fixed/sys/types.h:287:0,
from server.cpp:1:
/usr/include/sys/select.h:59:0: note: this is the location of the previous definition
#define FD_SETSIZE 1024U
^
</div></section><section class="chapter"><h3 id="-ap0l07_199" data-toc="-ap0l07_199">В случае ошибок</h3><p id="-ap0l07_200">Нужно убедится что стоит последняя версия boost и обновить её:</p><p id="-ap0l07_201">обновляется она предельно просто, идём на офф сайт: http://sourceforge.net/projects/boost/files/boost/</p><p id="-ap0l07_202">и качаем последнюю версию под линукс (Unix line)</p><div class="code-block" data-lang="bash">
wget http://downloads.sourceforge.net/project/boost/boost/1.55.0/boost_1_55_0.zip
</div><p id="-ap0l07_204">распаковываем из скачанного архива папку boost в: (может отличаться на разных дистрибутивах) с заменой существующей папки</p><ul class="list _bullet" id="-ap0l07_205"><li class="list__item" id="-ap0l07_206"><p>или /usr/local/include/</p></li><li class="list__item" id="-ap0l07_207"><p>или /usr/include/</p></li></ul></section></section><section class="chapter"><h2 id="-ap0l07_208" data-toc="-ap0l07_208">Инструкция с интернета</h2><p id="-ap0l07_209">Переходим в домашний каталог</p><div class="code-block" data-lang="bash">
cd ~
</div><p id="-ap0l07_211">Создаём клон исходных файлов и компилируем файлы</p><div class="code-block" data-lang="bash">
mkdir -p /home/xbt/xbt-source; cd /home/xbt
git clone https://github.com/OlafvdSpek/xbt
mv ~/xbt/xbt ~/xbt/xbt-source
rm -r ~/xbt/xbt
</div><p id="-ap0l07_213">Запускаем компиляцию</p><div class="code-block" data-lang="bash">
cd ~/xbt/xbt-source/Tracker
cmake .
make
</div><p id="-ap0l07_215">Либо</p><div class="code-block" data-lang="bash">
chmod 777 ~/xbt/xbt-source/Tracker/make.sh
cd ~/xbt/xbt-source/Tracker
./make.sh
</div><p id="-ap0l07_217">После компиляции нужно определиться из какой папки должен будет запускаться трекер. В этом примере будет использоваться папка <span class="control" id="-ap0l07_218">~/xbt/tracker</span></p><div class="code-block" data-lang="bash">
cp xbt_tracker ~/xbt/tracker/
cp xbt_tracker.conf.default ~/xbt/tracker/
cp xbt_tracker.sql ~/xbt/tracker/
cd ~/xbt/tracker/
mv xbt_tracker.conf.default xbt_tracker.conf
</div></section><div class="last-modified">Last modified: 06 Mai 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="install.html" class="navigation-links__prev">Установка дополнительных пакетов</a><a href="xbt-config.html" class="navigation-links__next">Настройка XBT</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>